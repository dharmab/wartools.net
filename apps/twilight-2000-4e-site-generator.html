<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Twilight: 2000 Scenario Site Generator - WARTOOLS.NET</title>
    <link rel="stylesheet" href="../style.css">
    <style>
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            width: 100%;
            padding: 10px;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .subtitle {
            color: var(--text-muted);
            font-size: 0.9rem;
            font-style: italic;
        }

        nav a {
            color: var(--link-color);
            font-size: 0.9rem;
        }

        .card {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 4px 12px var(--shadow-color);
            border: 2px solid var(--border-medium);
        }

        .setup-row {
            display: flex;
            align-items: center;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .setup-row label {
            font-weight: bold;
            color: var(--text-secondary);
        }

        .setup-row select {
            padding: 8px 12px;
            border-radius: 6px;
            border: 2px solid var(--border-medium);
            background: var(--bg-tertiary);
            color: var(--text-primary);
            font-family: Georgia, serif;
            font-size: 1rem;
            cursor: pointer;
            min-width: 140px;
            text-align: center;
        }

        .setup-row select:focus {
            outline: 2px solid var(--accent-primary);
            outline-offset: 2px;
        }

        .generate-btn {
            padding: 14px 40px;
            font-size: 1.2rem;
            font-weight: bold;
            border: 2px solid var(--border-medium);
            border-radius: 8px;
            background: var(--accent-primary);
            color: var(--bg-primary);
            cursor: pointer;
            font-family: Georgia, serif;
            transition: background 0.2s, transform 0.1s;
        }

        .generate-btn:hover {
            background: var(--accent-hover);
        }

        .generate-btn:active {
            transform: scale(0.96);
        }

        .results {
            display: none;
        }

        .results.visible {
            display: block;
        }

        .result-section {
            margin-bottom: 6px;
        }

        .result-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .result-header h3 {
            margin: 0;
            font-size: 1.1rem;
            color: var(--text-primary);
        }

        .reroll-btn {
            padding: 4px 12px;
            font-size: 0.8rem;
            border: 1px solid var(--border-medium);
            border-radius: 4px;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            cursor: pointer;
            font-family: Georgia, serif;
            transition: background 0.2s;
        }

        .reroll-btn:hover {
            background: var(--accent-primary);
            color: var(--bg-primary);
        }

        .result-value {
            font-size: 1.05rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .result-value .label {
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        .result-value .primary {
            font-weight: bold;
            color: var(--accent-primary);
        }

        .result-list {
            list-style: none;
            padding: 0;
            margin: 4px 0 0 0;
        }

        .result-list li {
            padding: 4px 0;
            border-bottom: 1px solid var(--border-light);
            color: var(--text-secondary);
            margin-bottom: 0;
        }

        .result-list li:last-child {
            border-bottom: none;
        }

        .result-list .primary {
            font-weight: bold;
            color: var(--accent-primary);
        }

        .checklist-note {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-light);
            color: var(--text-muted);
            font-size: 0.85rem;
            font-style: italic;
        }

        .npc-entry {
            display: flex;
            gap: 6px;
        }

        .dice-note {
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        .separator {
            border: none;
            border-top: 1px solid var(--border-light);
            margin: 12px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <nav><a href="../index.html">&larr; WARTOOLS.NET</a></nav>
        <header>
            <h1>Scenario Site Generator</h1>
            <p class="subtitle">Generate scenario sites for Twilight: 2000 4th Edition using the tables from the Referee's Manual</p>
        </header>

        <div class="card">
            <div class="setup-row">
                <label for="setting-select">Setting:</label>
                <select id="setting-select">
                    <option value="rural">Rural</option>
                    <option value="urban">Urban</option>
                </select>
                <button class="generate-btn" onclick="generate()">Generate Site</button>
            </div>
        </div>

        <div class="results" id="results">
            <div class="card">
                <div class="result-section">
                    <div class="result-header">
                        <h3>1. Site Type</h3>
                        <button class="reroll-btn" onclick="rerollSiteType()">Re-roll</button>
                    </div>
                    <div class="result-value" id="site-type-result"></div>
                </div>

                <hr class="separator">

                <div class="result-section">
                    <div class="result-header">
                        <h3>2. Condition</h3>
                        <button class="reroll-btn" onclick="rerollCondition()">Re-roll</button>
                    </div>
                    <div class="result-value" id="condition-result"></div>
                </div>

                <hr class="separator">

                <div class="result-section">
                    <div class="result-header">
                        <h3>3. Controlling Faction</h3>
                        <button class="reroll-btn" onclick="rerollFaction()">Re-roll</button>
                    </div>
                    <div class="result-value" id="faction-result"></div>
                </div>

                <hr class="separator">

                <div class="result-section">
                    <div class="result-header">
                        <h3>4. Faction Population</h3>
                        <button class="reroll-btn" onclick="rerollPopulation()">Re-roll</button>
                    </div>
                    <div class="result-value" id="population-result"></div>
                </div>
            </div>

            <div class="card">
                <div class="result-section">
                    <div class="result-header">
                        <h3>5. Site Characteristics</h3>
                        <button class="reroll-btn" onclick="rerollCharacteristics()">Re-roll</button>
                    </div>
                    <div class="result-value" id="characteristics-result"></div>
                </div>
            </div>

            <div class="card">
                <div class="result-section">
                    <div class="result-header">
                        <h3>6. Situation</h3>
                        <button class="reroll-btn" onclick="rerollSituation()">Re-roll</button>
                    </div>
                    <div class="result-value" id="situation-result"></div>
                </div>
            </div>

            <div class="card">
                <div class="result-section">
                    <div class="result-header">
                        <h3>7. Key NPCs</h3>
                        <button class="reroll-btn" onclick="rerollNPCs()">Re-roll</button>
                    </div>
                    <div class="result-value" id="npcs-result"></div>
                </div>
            </div>

            <div class="card">
                <div class="result-section">
                    <div class="result-header">
                        <h3>8. Events</h3>
                        <button class="reroll-btn" onclick="rerollEvents()">Re-roll</button>
                    </div>
                    <div class="result-value" id="events-result"></div>
                </div>
            </div>

            <div class="card">
                <div class="checklist-note">
                    <strong>Next steps:</strong> Look at the results and think about how everything might tie together. How does the site look? How do the key NPCs interact with the current situation? Look at the events and try to construct a countdown using 2&ndash;3 of them. Use the remaining as peripheral events.
                </div>
            </div>
        </div>
    </div>

    <script src="twilight-2000-4e-site-generator.js"></script>
</body>
</html>
